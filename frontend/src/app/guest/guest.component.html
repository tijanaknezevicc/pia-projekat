<div class="container mt-4">

  <div class="row mb-4">
    <div class="col-md-2">
      <div class="card text-center">
        <div class="card-body">
          <h6 class="card-title">registrovanih<br>vikendica:</h6>
          <p class="card-text">{{ propertyCount }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-2">
      <div class="card text-center">
        <div class="card-body">
          <h6 class="card-title">registrovanih<br>vlasnika:</h6>
          <p class="card-text">{{ ownerCount }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-2">
      <div class="card text-center">
        <div class="card-body">
          <h6 class="card-title">registrovanih<br>turista:</h6>
          <p class="card-text">{{ touristCount }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-2">
      <div class="card text-center">
        <div class="card-body">
          <h6 class="card-title">rezervacije u<br>poslednjih 24h:</h6>
          <p class="card-text">{{ res24h }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-2">
      <div class="card text-center">
        <div class="card-body">
          <h6 class="card-title">rezervacije u<br>poslednjih 7d:</h6>
          <p class="card-text">{{ res7d }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-2">
      <div class="card text-center">
        <div class="card-body">
          <h6 class="card-title">rezervacije u<br>poslednjih 30d:</h6>
          <p class="card-text">{{ res30d }}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row mb-3 toolbar">
    <div class="col-md-2">
      sortiraj prema:
    </div>
    <div class="col-md-2">
      <select id="sort" class="form-control" (change)="onSortChange($event)">
        <option value="name-asc">
          imenu rastuce
        </option>
        <option value="name-desc">
          imenu opadajuce
        </option>
        <option value="location-asc">
          mestu rastuce
        </option>
        <option value="location-desc">
          mestu opadajuce
        </option>
      </select>
    </div>
    <div class="col-md-3"></div>
    <div class="col-md-2">
      <input [(ngModel)]="searchName" class="form-control" placeholder="naziv">
    </div>
    <div class="col-md-2">
      <input [(ngModel)]="searchLocation" class="form-control" placeholder="mesto">
    </div>
    <div class="col-md-1">
      <button class="btn btn-primary btn-md" (click)="load()">
        pretrazi
      </button>
    </div>
  </div>

  @if (properties.length != 0) {
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>
            naziv
          </th>
          <th>
            mesto
          </th>
          <th>vlasnik</th>
          <th>usluge</th>
          <th>cena-leto</th>
          <th>cena-zima</th>
        </tr>
      </thead>
      <tbody>
        @for (property of properties; track property.name) {
          <tr>
            <td>{{ property.name }}</td>
            <td>{{ property.location }}</td>
            <td>{{ property.owner }}</td>
            <td>{{ property.services }}</td>
            <td>{{ property.pricing.summer }}</td>
            <td>{{ property.pricing.winter }}</td>
          </tr>
        }
      </tbody>
    </table>
  }
  @else {
    <div class="alert alert-info" role="alert">
      <span>nema pronadjenih vikendica</span>
    </div>
  }
</div>
